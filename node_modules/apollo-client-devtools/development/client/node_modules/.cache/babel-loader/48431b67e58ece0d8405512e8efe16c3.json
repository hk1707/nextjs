{"ast":null,"code":"var _jsxFileName = \"/Users/jenncreighton/Apollo/apollo-client-devtools/development/client/src/components/Color.js\";\nimport React, { useState } from 'react';\nimport SaveIcon from './SaveIcon';\nimport cx from 'classnames';\nimport { useMutation } from '@apollo/client';\nimport { GET_SAVED_COLORS } from '../queries';\nimport { ADD_COLOR_TO_FAVORITES, REMOVE_COLOR_FROM_FAVORITES } from '../mutations';\n\nconst Color = ({\n  className,\n  contrast,\n  hexCode,\n  name,\n  isSaved = false\n}) => {\n  const [saved, setSaved] = useState(isSaved);\n  const variables = {\n    color: {\n      name,\n      hex: hexCode,\n      contrast\n    }\n  };\n  const [addColor] = useMutation(ADD_COLOR_TO_FAVORITES, {\n    variables,\n\n    update(cache, {\n      data: {\n        addColor\n      }\n    }) {\n      cache.writeQuery({\n        query: GET_SAVED_COLORS,\n        data: {\n          favoritedColors: addColor\n        }\n      });\n    }\n\n  });\n  const [removeColor] = useMutation(REMOVE_COLOR_FROM_FAVORITES, {\n    variables,\n\n    update(cache, {\n      data: {\n        removeColor\n      }\n    }) {\n      const colorToRemove = removeColor[0];\n      const {\n        favoritedColors\n      } = cache.readQuery({\n        query: GET_SAVED_COLORS\n      });\n      const updatedColors = favoritedColors.filter(color => color.hex !== colorToRemove.hex);\n      cache.writeQuery({\n        query: GET_SAVED_COLORS,\n        data: {\n          favoritedColors: updatedColors\n        }\n      });\n    }\n\n  });\n\n  function onClick() {\n    if (saved) {\n      setSaved(false);\n      removeColor();\n    } else {\n      setSaved(true);\n      addColor();\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('color', className, {\n      'contrast-dark': contrast === '#000000',\n      'contrast-light': contrast === '#ffffff'\n    }),\n    style: {\n      backgroundColor: hexCode\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"color__save-icon\",\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SaveIcon, {\n    isSaved: saved,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })), name && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"color__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }\n  }, name), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"color__hexCode\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, hexCode));\n};\n\nexport default Color;","map":{"version":3,"sources":["/Users/jenncreighton/Apollo/apollo-client-devtools/development/client/src/components/Color.js"],"names":["React","useState","SaveIcon","cx","useMutation","GET_SAVED_COLORS","ADD_COLOR_TO_FAVORITES","REMOVE_COLOR_FROM_FAVORITES","Color","className","contrast","hexCode","name","isSaved","saved","setSaved","variables","color","hex","addColor","update","cache","data","writeQuery","query","favoritedColors","removeColor","colorToRemove","readQuery","updatedColors","filter","onClick","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport SaveIcon from './SaveIcon';\nimport cx from 'classnames';\nimport { useMutation } from '@apollo/client';\nimport { GET_SAVED_COLORS } from '../queries';\nimport { ADD_COLOR_TO_FAVORITES, REMOVE_COLOR_FROM_FAVORITES } from '../mutations';\n\nconst Color = ({ \n  className, \n  contrast, \n  hexCode, \n  name, \n  isSaved = false, \n}) => {\n  const [saved, setSaved] = useState(isSaved);\n  const variables = { color: { name, hex: hexCode, contrast } };\n  const [addColor] = useMutation(ADD_COLOR_TO_FAVORITES, {\n    variables,\n    update(cache, { data: { addColor } }) {\n      cache.writeQuery({ query: GET_SAVED_COLORS, data: { favoritedColors: addColor } });\n    }\n  });\n  const [removeColor] = useMutation(REMOVE_COLOR_FROM_FAVORITES, { \n    variables, \n    update(cache, { data: { removeColor } }) {\n      const colorToRemove = removeColor[0];\n      const { favoritedColors } = cache.readQuery({ query: GET_SAVED_COLORS });\n      const updatedColors = favoritedColors.filter(color => color.hex !== colorToRemove.hex);\n      cache.writeQuery({ query: GET_SAVED_COLORS, data: { favoritedColors: updatedColors } });\n    }\n  });\n\n  function onClick() {\n    if (saved) {\n      setSaved(false);\n      removeColor();\n    } else {\n      setSaved(true);\n      addColor();\n    }\n  }\n\n  return (\n    <div className={cx('color', className, {\n      'contrast-dark': contrast === '#000000',\n      'contrast-light': contrast === '#ffffff',\n    })} style={{backgroundColor: hexCode}}>\n      <div className=\"color__save-icon\" onClick={onClick}>\n        <SaveIcon isSaved={saved}  />\n      </div>\n      {name && <span className=\"color__name\">{name}</span>}\n      <span className=\"color__hexCode\">{hexCode}</span>\n    </div>\n  );\n};\n\nexport default Color;"]},"metadata":{},"sourceType":"module"}