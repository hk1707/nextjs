{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useRouter } from 'next/router';\nimport ErrorPage from 'next/error';\nimport Container from '../../components/post/container';\nimport PostBody from '../../components/post/post-body';\nimport MoreStories from '../../components/post/more-stories';\nimport PostHeader from '../../components/post/post-header';\nimport SectionSeparator from '../../components/post/section-separator';\nimport Layout from '../../components/Layout';\nimport { getAllPostsWithSlug, getPostAndMorePosts } from '../../lib/api';\nimport PostTitle from '../../components/post/post-title';\nimport Head from 'next/head';\nimport { CMS_NAME } from '../../lib/constants';\nimport Tags from '../../components/post/tags';\nimport { ApolloProvider } from '@apollo/client';\nimport client from \"../../components/Apolloclient\";\nimport { MDBContainer, MDBCard, MDBCardBody } from 'mdb-react-ui-kit';\nexport default function Post({\n  post,\n  posts,\n  preview\n}) {\n  var _post$featuredImage, _post$featuredImage$n, _post$featuredImage2, _post$author;\n\n  const router = useRouter();\n  const morePosts = posts === null || posts === void 0 ? void 0 : posts.edges; //console.log(params.slug)\n\n  if (!router.isFallback && !(post !== null && post !== void 0 && post.slug)) {\n    return /*#__PURE__*/_jsx(ErrorPage, {\n      statusCode: 404\n    });\n  }\n\n  return /*#__PURE__*/_jsx(ApolloProvider, {\n    client: client,\n    children: /*#__PURE__*/_jsx(Layout, {\n      children: /*#__PURE__*/_jsx(Container, {\n        children: router.isFallback ? /*#__PURE__*/_jsx(PostTitle, {\n          children: \"Loading\\u2026\"\n        }) : /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsxs(MDBContainer, {\n            children: [/*#__PURE__*/_jsxs(Head, {\n              children: [/*#__PURE__*/_jsxs(\"title\", {\n                children: [post.title, \" | Next.js \", CMS_NAME]\n              }), /*#__PURE__*/_jsx(\"meta\", {\n                property: \"og:image\",\n                content: (_post$featuredImage = post.featuredImage) === null || _post$featuredImage === void 0 ? void 0 : (_post$featuredImage$n = _post$featuredImage.node) === null || _post$featuredImage$n === void 0 ? void 0 : _post$featuredImage$n.sourceUrl\n              })]\n            }), /*#__PURE__*/_jsx(MDBCard, {\n              children: /*#__PURE__*/_jsxs(MDBCardBody, {\n                children: [/*#__PURE__*/_jsx(PostHeader, {\n                  title: post.title,\n                  coverImage: (_post$featuredImage2 = post.featuredImage) === null || _post$featuredImage2 === void 0 ? void 0 : _post$featuredImage2.node,\n                  date: post.date,\n                  author: (_post$author = post.author) === null || _post$author === void 0 ? void 0 : _post$author.node,\n                  categories: post.categories\n                }), /*#__PURE__*/_jsx(PostBody, {\n                  content: post.content\n                }), /*#__PURE__*/_jsx(\"footer\", {\n                  children: post.tags.edges.length > 0 && /*#__PURE__*/_jsx(Tags, {\n                    tags: post.tags\n                  })\n                })]\n              })\n            })]\n          }), /*#__PURE__*/_jsx(SectionSeparator, {}), morePosts.length > 0 && /*#__PURE__*/_jsx(MoreStories, {\n            posts: morePosts\n          })]\n        })\n      })\n    })\n  });\n}\nexport async function getStaticProps({\n  params,\n  preview = false,\n  previewData\n}) {\n  const data = await getPostAndMorePosts(params.slug, preview, previewData);\n  return {\n    props: {\n      preview,\n      post: data.post,\n      posts: data.posts\n    }\n  };\n}\nexport async function getStaticPaths() {\n  const allPosts = await getAllPostsWithSlug();\n  return {\n    paths: allPosts.edges.map(({\n      node\n    }) => `/posts/${node.slug}`) || [],\n    fallback: true\n  };\n}","map":null,"metadata":{},"sourceType":"module"}