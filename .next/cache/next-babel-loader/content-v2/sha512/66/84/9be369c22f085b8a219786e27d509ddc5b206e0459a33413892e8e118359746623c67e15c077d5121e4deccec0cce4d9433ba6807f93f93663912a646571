{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Layout from \"../components/Layout\";\nimport 'mdb-react-ui-kit/dist/css/mdb.min.css';\nimport Product from \"../components/products\";\nimport client from \"./../components/Apolloclient\";\nimport gql from \"graphql-tag\";\nimport PRODUCT_QUERY from \"../query/productquery\";\nimport { MDBContainer } from 'mdb-react-ui-kit';\nimport { ApolloProvider } from '@apollo/client';\nimport GET_CART from \"../src/queries/get-cart\";\nimport Home from \"../components/home\";\nimport add from \"../src/mutations/add-to-cart\";\nimport { getPreviewPost, getAllPostsWithSlug, PRODUCT_SLUGS, PRODUCT_BY_SLUG_QUERY, getPostAndMorePosts } from '../lib/pageapi';\nimport ReactDOM from 'react-dom';\n\nconst Index = props => {\n  //console.warn( client );\n  const {\n    product,\n    page,\n    test\n  } = props;\n  console.log(test);\n  return /*#__PURE__*/_jsx(ApolloProvider, {\n    client: client,\n    children: /*#__PURE__*/_jsxs(Layout, {\n      children: [/*#__PURE__*/_jsx(Home, {}), /*#__PURE__*/_jsx(\"div\", {\n        style: container,\n        children: /*#__PURE__*/_jsx(MDBContainer, {\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"row row-cols-1 row-cols-md-3 g-4\",\n            children: product.map(items => /*#__PURE__*/_jsx(Product, {\n              product: items\n            }, items.id))\n          })\n        })\n      })]\n    })\n  });\n};\n\nIndex.getInitialProps = async () => {\n  // const res = await fatch( `${clientConfig.graphurl}/?${PRODUCT_QUERY}` );\n  const res = await client.query({\n    query: PRODUCT_QUERY\n  }); // const productdata = await res.json();\n\n  const cart = await client.query({\n    query: GET_CART\n  });\n  const test = await getPostAndMorePosts('new');\n  const allPosts = await PRODUCT_SLUGS('single');\n  return {\n    product: res.data.products.nodes,\n    page: allPosts,\n    test: cart\n  };\n};\n\nexport default Index;\nconst mystyle = {\n  display: \"flex\",\n  flexWrap: \"wrap\"\n};\nconst container = {\n  maxWidth: \"1200px\",\n  width: \"100%\",\n  margin: \"0 auto\",\n  marginTop: \"120px\",\n  marginBottom: \"60px\"\n};","map":null,"metadata":{},"sourceType":"module"}