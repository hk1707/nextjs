{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useRouter } from 'next/router';\nimport ErrorPage from 'next/error';\nimport Container from '../components/post/container';\nimport PostBody from '../components/post/post-body';\nimport Layout from '../components/Layout';\nimport { getAllPostsWithSlug, getPostAndMorePosts } from '../lib/pageapi'; //import PostTitle from '../components/post-title'\n\nimport Head from 'next/head';\nimport { ApolloProvider } from '@apollo/client';\nimport client from \"../components/Apolloclient\";\nexport default function Page({\n  page,\n  preview\n}) {\n  const router = useRouter();\n  console.log(page);\n  console.log(!router.isFallback); //const morePosts = pages?.edges\n\n  if (!router.isFallback && !(page !== null && page !== void 0 && page.slug) || page == null) {\n    return /*#__PURE__*/_jsx(ErrorPage, {\n      statusCode: 404\n    });\n  }\n\n  return /*#__PURE__*/_jsx(ApolloProvider, {\n    client: client,\n    children: /*#__PURE__*/_jsxs(Layout, {\n      children: [/*#__PURE__*/_jsx(Head, {}), /*#__PURE__*/_jsx(Container, {\n        children: /*#__PURE__*/_jsx(PostBody, {\n          content: page.content\n        })\n      })]\n    })\n  });\n}\nexport async function getStaticProps({\n  params,\n  preview = false,\n  previewData\n}) {\n  const data = await getPostAndMorePosts(params.slug, preview, previewData);\n  return {\n    props: {\n      preview,\n      page: data.page\n    }\n  };\n}\nexport async function getStaticPaths() {\n  const allPosts = await getAllPostsWithSlug();\n  return {\n    paths: allPosts.edges.map(({\n      node\n    }) => `/${node.slug}`) || [],\n    fallback: true\n  };\n}","map":null,"metadata":{},"sourceType":"module"}