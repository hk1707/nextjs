{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/opt/lampp/htdocs/wordpress/wp-content/themes/react-next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/opt/lampp/htdocs/wordpress/wp-content/themes/react-next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/opt/lampp/htdocs/wordpress/wp-content/themes/react-next/src/components/checkout/CheckoutForm.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useContext, useEffect } from 'react';\nimport Billing from \"./Billing\";\nimport YourOrder from \"./YourOrder\";\nimport PaymentModes from \"./PaymentModes\";\nimport { AppContext } from \"../context/AppContext\";\nimport validateAndSanitizeCheckoutForm from '../../validator/checkout';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { getFormattedCart, createCheckoutData } from \"../../functions\";\nimport OrderSuccess from \"./OrderSuccess\";\nimport GET_CART from \"../../queries/get-cart\";\nimport CHECKOUT_MUTATION from \"../../mutations/checkout\";\n\nvar CheckoutForm = function CheckoutForm() {\n  _s();\n\n  var initialState = {\n    firstName: '',\n    lastName: '',\n    company: '',\n    country: '',\n    address1: '',\n    address2: '',\n    city: '',\n    state: '',\n    postcode: '',\n    phone: '',\n    email: '',\n    createAccount: false,\n    orderNotes: '',\n    paymentMethod: '',\n    shippingMethod: \"Free shipping\",\n    errors: null\n  };\n\n  var _useContext = useContext(AppContext),\n      cart = _useContext[0],\n      setCart = _useContext[1];\n\n  var _useState = useState(null),\n      cartnew = _useState[0],\n      setNewcart = _useState[1];\n\n  var _useState2 = useState(initialState),\n      input = _useState2[0],\n      setInput = _useState2[1];\n\n  var _useState3 = useState(null),\n      orderData = _useState3[0],\n      setOrderData = _useState3[1];\n\n  var _useState4 = useState(null),\n      neworderData = _useState4[0],\n      setOrderDatanew = _useState4[1];\n\n  var _useState5 = useState(null),\n      requestError = _useState5[0],\n      setRequestError = _useState5[1]; ///Get Cart Data.\n\n\n  var _useQuery = useQuery(GET_CART, {\n    notifyOnNetworkStatusChange: false,\n    onCompleted: function onCompleted() {\n      // Update cart in the localStorage.\n      var updatedCart = getFormattedCart(data); //console.warn( 'completed GET_CART', updatedCart )\n\n      localStorage.setItem('woo-next-cart', JSON.stringify(updatedCart)); // Update cart data in React Context.\n\n      setCart(updatedCart);\n      setNewcart(updatedCart); //console.log(updatedCart);\n    }\n  }),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data,\n      refetch = _useQuery.refetch; // Checkout or CreateOrder Mutation.\n\n\n  var _useMutation = useMutation(CHECKOUT_MUTATION, {\n    variables: {\n      input: orderData\n    },\n    onCompleted: function onCompleted() {\n      console.warn('completed CHECKOUT_MUTATION');\n      refetch();\n    },\n    onError: function onError(error) {\n      if (error) {\n        setRequestError(error.graphQLErrors[0].message);\n      }\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      checkout = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      checkoutResponse = _useMutation2$.data,\n      checkoutLoading = _useMutation2$.loading,\n      checkoutError = _useMutation2$.error;\n  /*\n   * Handle form submit.\n   *\n   * @param {Object} event Event Object.\n   *\n   * @return {void}\n   */\n\n\n  var handleFormSubmit = function handleFormSubmit(event) {\n    event.preventDefault();\n    var result = validateAndSanitizeCheckoutForm(input);\n\n    if (!result.isValid) {\n      setInput(_objectSpread(_objectSpread({}, input), {}, {\n        errors: result.errors\n      }));\n      return;\n    }\n\n    var checkOutData = createCheckoutData(input);\n    setOrderData(checkOutData);\n    setOrderDatanew(checkOutData);\n    console.log(neworderData);\n    setRequestError(null);\n  };\n  /*\n   * Handle onchange input.\n   *\n   * @param {Object} event Event Object.\n   *\n   * @return {void}\n   */\n\n\n  var handleOnChange = function handleOnChange(event) {\n    if ('createAccount' === event.target.name) {\n      var newState = _objectSpread(_objectSpread({}, input), {}, _defineProperty({}, event.target.name, !input.createAccount));\n\n      setInput(newState);\n    } else {\n      var _newState = _objectSpread(_objectSpread({}, input), {}, _defineProperty({}, event.target.name, event.target.value));\n\n      setInput(_newState);\n    }\n  };\n\n  useEffect(function () {\n    if (null !== orderData) {\n      // Call the checkout mutation when the value for orderData changes/updates.\n      checkout();\n    }\n  }, [orderData]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [cart ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleFormSubmit,\n      className: \"woo-next-checkout-form\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-20\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"billing-details col-md-6 col-lg-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-medium mb-4\",\n                children: \"Billing Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 10\n              }, _this), /*#__PURE__*/_jsxDEV(Billing, {\n                input: input,\n                handleOnChange: handleOnChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 10\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 9\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"your-orders col-md-6 col-lg-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-medium mb-4\",\n                children: \"Your Order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 10\n              }, _this), /*#__PURE__*/_jsxDEV(YourOrder, {\n                cart: cartnew\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 10\n              }, _this), /*#__PURE__*/_jsxDEV(PaymentModes, {\n                input: input,\n                handleOnChange: handleOnChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 10\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"woo-next-place-order-btn-wrap mt-5\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-purple-600 text-white px-5 py-3 rounded-sm w-auto xl:w-full\",\n                  type: \"submit\",\n                  children: \"Place Order\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 10\n              }, _this), checkoutLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Processing Order...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 30\n              }, _this), requestError && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Error : \", requestError, \" :( Please try again\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 27\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 9\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 8\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }, _this) : '', /*#__PURE__*/_jsxDEV(OrderSuccess, {\n      response: checkoutResponse\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 3\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(CheckoutForm, \"kCXoI7CWLQiWs+O8Y9XDCEJeuWY=\", false, function () {\n  return [useQuery, useMutation];\n});\n\n_c = CheckoutForm;\nexport default CheckoutForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckoutForm\");","map":{"version":3,"sources":["/opt/lampp/htdocs/wordpress/wp-content/themes/react-next/src/components/checkout/CheckoutForm.js"],"names":["useState","useContext","useEffect","Billing","YourOrder","PaymentModes","AppContext","validateAndSanitizeCheckoutForm","useMutation","useQuery","getFormattedCart","createCheckoutData","OrderSuccess","GET_CART","CHECKOUT_MUTATION","CheckoutForm","initialState","firstName","lastName","company","country","address1","address2","city","state","postcode","phone","email","createAccount","orderNotes","paymentMethod","shippingMethod","errors","cart","setCart","cartnew","setNewcart","input","setInput","orderData","setOrderData","neworderData","setOrderDatanew","requestError","setRequestError","notifyOnNetworkStatusChange","onCompleted","updatedCart","data","localStorage","setItem","JSON","stringify","loading","error","refetch","variables","console","warn","onError","graphQLErrors","message","checkout","checkoutResponse","checkoutLoading","checkoutError","handleFormSubmit","event","preventDefault","result","isValid","checkOutData","log","handleOnChange","target","name","newState","value"],"mappings":"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","sourcesContent":["import { useState, useContext, useEffect } from 'react';\nimport Billing from \"./Billing\";\nimport YourOrder from \"./YourOrder\";\nimport PaymentModes from \"./PaymentModes\";\nimport { AppContext } from \"../context/AppContext\";\nimport validateAndSanitizeCheckoutForm from '../../validator/checkout';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { getFormattedCart, createCheckoutData } from \"../../functions\";\nimport OrderSuccess from \"./OrderSuccess\";\nimport GET_CART from \"../../queries/get-cart\";\nimport CHECKOUT_MUTATION from \"../../mutations/checkout\";\n\nconst CheckoutForm = () => {\n\n\n\tconst initialState = {\n\t\tfirstName: '',\n\t\tlastName: '',\n\t\tcompany: '',\n\t\tcountry: '',\n\t\taddress1: '',\n\t\taddress2: '',\n\t\tcity: '',\n\t\tstate: '',\n\t\tpostcode: '',\n\t\tphone: '',\n\t\temail: '',\n\t\tcreateAccount: false,\n\t\torderNotes: '',\n\t\tpaymentMethod: '',\n\t\tshippingMethod: \"Free shipping\",\n\t\terrors: null\n\t};\n\n    const [cart, setCart ] = useContext( AppContext );\n\tconst [cartnew , setNewcart ] = useState(null);\n\tconst [ input, setInput ] = useState( initialState );\n\tconst [ orderData, setOrderData ] = useState( null );\n\tconst [ neworderData, setOrderDatanew ] = useState( null );\n\tconst [ requestError, setRequestError ] = useState( null );\n\n\t\n\t///Get Cart Data.\n\tconst { loading, error, data, refetch } = useQuery( GET_CART, {\n\t\tnotifyOnNetworkStatusChange: false,\n\t\tonCompleted: () => {\n\n\t\t\t\n\n\t\t\t// Update cart in the localStorage.\n\t\t\tconst updatedCart = getFormattedCart( data );\n\n\t\t    //console.warn( 'completed GET_CART', updatedCart )\n\t\t\t\n\t\t\tlocalStorage.setItem( 'woo-next-cart', JSON.stringify( updatedCart ) );\n\n\t\t\t// Update cart data in React Context.\n\t\t\tsetCart( updatedCart );\n\t\t\tsetNewcart(updatedCart);\n\n\t\t\t//console.log(updatedCart);\n\t\t\t\n\t\t}\n\t} );\n\n\t// Checkout or CreateOrder Mutation.\n\tconst [ checkout, { data: checkoutResponse, loading: checkoutLoading, error: checkoutError } ] = useMutation( CHECKOUT_MUTATION, {\n\t\tvariables: {\n\t\t\tinput: orderData\n\t\t},\n\t\tonCompleted: () => {\n\t\t\t console.warn( 'completed CHECKOUT_MUTATION' );\n\t\t\trefetch();\n\t\t},\n\t\tonError: ( error ) => {\n\t\t\tif ( error ) {\n\t\t\t\tsetRequestError( error.graphQLErrors[ 0 ].message );\n\t\t\t}\n\t\t}\n\t} );\n\n\t/*\n\t * Handle form submit.\n\t *\n\t * @param {Object} event Event Object.\n\t *\n\t * @return {void}\n\t */\n\tconst handleFormSubmit = ( event ) => {\n\t\tevent.preventDefault();\n\t\tconst result = validateAndSanitizeCheckoutForm( input );\n\t\t\n\t\tif ( ! result.isValid ) {\n\t\t\tsetInput( { ...input,  errors: result.errors } );\n\t\t\treturn;\n\t\t}\n\t\tconst checkOutData = createCheckoutData( input );\n\n\t\tsetOrderData( checkOutData );\n\t\tsetOrderDatanew(checkOutData);\n\t\tconsole.log(neworderData);\n\t\tsetRequestError( null );\n\t};\n\n\t/*\n\t * Handle onchange input.\n\t *\n\t * @param {Object} event Event Object.\n\t *\n\t * @return {void}\n\t */\n\tconst handleOnChange = ( event ) => {\n\n\t\tif ( 'createAccount' === event.target.name ) {\n\t\t\tconst newState = { ...input, [event.target.name]: ! input.createAccount };\n\t\t\tsetInput( newState );\n\t\t} else {\n\t\t\tconst newState = { ...input, [event.target.name]: event.target.value };\n\t\t\tsetInput( newState );\n\t\t}\n\t};\n\n\tuseEffect( () => {\n\n\t\tif ( null !== orderData ) {\n\t\t\t// Call the checkout mutation when the value for orderData changes/updates.\n\t\t\tcheckout();\n\t\t}\n\n\t}, [ orderData ] );\n\n\treturn (\n\t\t<>\n\t\t\t{ cart ? (\n\t\t\t\t<form onSubmit={ handleFormSubmit } className=\"woo-next-checkout-form\">\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-20\">\n\t\t\t\t\t\t{/*Billing Details*/}\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"billing-details col-md-6 col-lg-8\">\n\t\t\t\t\t\t\t\t\t<h2 className=\"text-xl font-medium mb-4\">Billing Details</h2>\n\t\t\t\t\t\t\t\t\t<Billing input={ input } handleOnChange={ handleOnChange }/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/* Order & Payments*/}\n\t\t\t\t\t\t\t\t<div className=\"your-orders col-md-6 col-lg-4\">\n\t\t\t\t\t\t\t\t\t{/*\tOrder*/}\n\t\t\t\t\t\t\t\t\t<h2 className=\"text-xl font-medium mb-4\">Your Order</h2>\n\t\t\t\t\t\t\t\t\t<YourOrder cart={ cartnew }/>\n\n\t\t\t\t\t\t\t\t\t{/*Payment*/}\n\t\t\t\t\t\t\t\t\t<PaymentModes input={ input } handleOnChange={ handleOnChange }/>\n\t\t\t\t\t\t\t\t\t<div className=\"woo-next-place-order-btn-wrap mt-5\">\n\t\t\t\t\t\t\t\t\t\t<button className=\"bg-purple-600 text-white px-5 py-3 rounded-sm w-auto xl:w-full\" type=\"submit\">\n\t\t\t\t\t\t\t\t\t\t\tPlace Order\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Checkout Loading*/}\n\t\t\t\t\t\t\t\t\t{checkoutLoading && <p>Processing Order...</p>}\n\t\t\t\t\t\t\t\t\t{requestError && <p>Error : { requestError } :( Please try again</p>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t) : '' }\n\n\t\t{/*\tShow message if Order Sucess*/}\n\t\t<OrderSuccess response={ checkoutResponse }/>\n\t\t</>\n\t);\n};\n\nexport default CheckoutForm;\n"]},"metadata":{},"sourceType":"module"}